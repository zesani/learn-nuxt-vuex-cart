{"version":3,"sources":["webpack:///webpack/bootstrap decd60ac91edc148cab5","webpack:///external \"lodash\"","webpack:///external \"path\"","webpack:///./lib/utils.js","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"co\"","webpack:///external \"fs-extra\"","webpack:///external \"pify\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"debug\"","webpack:///external \"webpack\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///./lib/webpack/base.config.js","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"serialize-javascript\"","webpack:///./lib/build.js","webpack:///./lib/generate.js","webpack:///./lib/render.js","webpack:///./lib/server.js","webpack:///external \"compression\"","webpack:///external \"serve-static\"","webpack:///./lib/nuxt.js","webpack:///./lib/webpack/client.config.js","webpack:///./lib/webpack/server.config.js","webpack:///./lib/webpack/vue-loader.config.js","webpack:///./package.json","webpack:///external \"ansi-html\"","webpack:///external \"autoprefixer\"","webpack:///external \"babel-runtime/core-js/array/from\"","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"chokidar\"","webpack:///external \"friendly-errors-webpack-plugin\"","webpack:///external \"fs\"","webpack:///external \"glob\"","webpack:///external \"hash-sum\"","webpack:///external \"html-minifier\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"http\"","webpack:///external \"jsdom\"","webpack:///external \"lru-cache\"","webpack:///external \"memory-fs\"","webpack:///external \"post-compile-webpack-plugin\"","webpack:///external \"preload-webpack-plugin\"","webpack:///external \"progress-bar-webpack-plugin\"","webpack:///external \"script-ext-html-webpack-plugin\"","webpack:///external \"vue-server-renderer\"","webpack:///external \"vue-ssr-webpack-plugin\"","webpack:///external \"webpack-bundle-analyzer\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\""],"names":["waitFor","encodeHtml","str","replace","getContext","req","res","setAnsiColors","ansiHTML","setColors","reset","darkgrey","yellow","green","magenta","blue","cyan","red","ms","resolve","setTimeout","urlJoin","slice","call","arguments","join","isUrl","url","indexOf","promisifyRoute","fn","Array","isArray","length","reject","err","routeParams","promise","isClient","isServer","nodeModulesDir","__dirname","config","devtool","dev","entry","vendor","output","publicPath","options","build","router","base","performance","maxEntrypointSize","maxAssetSize","hints","extensions","alias","srcDir","dir","modules","resolveLoader","module","rules","test","loader","query","vueLoaderConfig","exclude","defaults","babel","presets","cacheDirectory","plugins","concat","loaders","buildFiles","generateRoutesAndFiles","debug","require","remove","pify","fs","readFile","utimes","writeFile","mkdirp","glob","reqSep","sysSep","_","escapeRegExp","normalize","string","wp","p","process","platform","r","args","last","includes","map","apply","webpackStats","color","analyze","filenames","manifest","app","postcss","defaultsLoaders","limit","name","defaultsPostcss","browsers","extraDefaults","defaultsDeep","chunks","children","colors","serverConfig","getWebpackServerConfig","bundlePath","path","existsSync","bundle","readFileSync","createRenderer","JSON","parse","addAppTemplate","console","error","exit","createWebpackMiddleware","webpackWatchAndUpdate","watchPages","webpackRunClient","webpackRunServer","templatePath","appTemplate","template","interpolate","layouts","cwd","layoutsFiles","forEach","file","split","files","templatesFiles","store","templateVars","uniqBy","isDev","mode","middleware","linkActiveClass","scrollBehavior","env","head","css","src","ssr","appPath","loading","transition","components","ErrorPage","routes","createRoutes","extendRoutes","flatRoutes","default","push","moveTemplates","then","fileContent","imports","serialize","hash","content","dateFS","Date","now","keys","route","component","parent","key","i","child","find","sort","a","b","_a","_b","y","z","cleanChildrenRoutes","isChild","start","routesIndex","s","names","paths","shift","getWebpackClientConfig","clientWebpackConfig","serverWebpackConfig","clientConfig","host","HOST","npm_package_config_nuxt_host","port","PORT","npm_package_config_nuxt_port","flatten","webpack","HotModuleReplacementPlugin","NoEmitOnErrorsPlugin","stats","hasErrors","hasWarnings","log","clientCompiler","webpackDevMiddleware","quiet","noInfo","watchOptions","watchers","webpackHotMiddleware","plugin","fileSystem","filePath","MFS","mfs","serverCompiler","outputPath","outputFileSystem","webpackServerWatcher","watch","run","toString","Error","cacheConfig","cache","max","maxAge","renderer","createBundleRenderer","renderToString","renderToStream","patterns","chokidar","ignoreInitial","refreshFiles","debounce","co","bind","pagesFilesWatcher","on","copy","minify","collapseBooleanAttributes","collapseWhitespace","decodeEntities","minifyCSS","minifyJS","processConditionalComments","removeAttributeQuotes","removeComments","removeEmptyAttributes","removeOptionalTags","removeRedundantAttributes","removeScriptTypeAttributes","removeStyleLinkTypeAttributes","removeTagWhitespace","sortAttributes","sortClassName","trimCustomFragments","useShortDoctype","generate","self","srcStaticPath","srcBuiltPath","distPath","distNuxtPath","catch","e","generateRoutes","splice","renderRoute","_generate","html","dirname","pages","nojekyllPath","duration","Math","round","render","context","statusCode","gzip","gzipMiddleware","serveStatic","serveStaticNuxt","redirected","nuxt","setHeader","Buffer","byteLength","end","errorTemplate","stack","APP","serverRendered","m","meta","inject","HEAD","text","title","link","style","script","noscript","styles","isJSON","HTML_ATTRS","htmlAttrs","BODY_ATTRS","bodyAttrs","jsdom","renderAndGetWindow","opts","virtualConsole","createVirtualConsole","sendTo","undefined","features","FetchExternalResources","ProcessExternalResources","done","window","scrollTo","__NUXT__","body","document","getElementsByTagName","innerHTML","onNuxtReady","http","Server","server","createServer","listen","cb","close","Nuxt","failedColor","height","threshold","prefetch","rootDir","appTemplatePath","compression","utils","callback","promises","filename","each","value","DefinePlugin","optimize","CommonsChunkPlugin","defaultAttribute","rel","LoaderOptionsPlugin","minimize","UglifyJsPlugin","sourceMap","compress","warnings","extend","target","libraryTarget","nuxtPackageJson","projectPackageJsonPath","externals","dependencies","projectPackageJson","uniq","babelOptions","preserveWhitespace"],"mappings":"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uW,eAAe,6EAAe,uEAAAvU,CAAS,KAAKrB,OAAL,CAAaC,KAAb,CAAmBqB,KAA5B,EAAmC;AACnEC,aAAS,CAAC,SAAD,CAD0D;AAEnEC,oBAAgB,CAAC,CAAC,KAAK7B;AAF4C,GAAnC,CAAf,CAAnB;AAIA,MAAIF,SAAS;AACXqE,aAAS,KAAK9D,OAAL,CAAaC,KAAb,CAAmB6D,OADjB;AAEXnC,aAAS;AACP,YAAM,kBAAkBiU,YADjB;AAEP,aAAO,6BAFA;AAGP,cAAQ,yCAHD;AAIP,cAAQ,wDAJD;AAKP,cAAQ,yCALD;AAMP,gBAAU,2CANH;AAOP,cAAQ;AAPD,KAFE;AAWXC,wBAAoB;AAXT,GAAb;AAaA;AACA,SAAOpW,MAAP;AACD,C;;;;;;ACxBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACxHA,sC;;;;;;ACAA,yC;;;;;;ACAA,6D;;;;;;ACAA,8D;;;;;;ACAA,qC;;;;;;ACAA,2D;;;;;;ACAA,+B;;;;;;ACAA,iC;;;;;;ACAA,qC;;;;;;ACAA,0C;;;;;;ACAA,gD;;;;;;ACAA,iC;;;;;;ACAA,kC;;;;;;ACAA,sC;;;;;;ACAA,sC;;;;;;ACAA,wD;;;;;;ACAA,mD;;;;;;ACAA,wD;;;;;;ACAA,2D;;;;;;ACAA,gD;;;;;;ACAA,mD;;;;;;ACAA,oD;;;;;;ACAA,mD;;;;;;ACAA,mD","file":"nuxt.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap decd60ac91edc148cab5","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","'use strict'\n\nexport function encodeHtml (str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nexport function getContext (req, res) {\n  return { req, res }\n}\n\nexport function setAnsiColors (ansiHTML) {\n  ansiHTML.setColors({\n    reset: ['efefef', 'a6004c'],\n    darkgrey: '5a012b',\n    yellow: 'ffab07',\n    green: 'aeefba',\n    magenta: 'ff84bf',\n    blue: '3505a0',\n    cyan: '56eaec',\n    red: '4e053a'\n  })\n}\n\nexport function * waitFor (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, (ms || 0))\n  })\n}\n\nexport function urlJoin () {\n  return [].slice.call(arguments).join('/').replace(/\\/+/g, '/').replace(':/', '://')\n}\n\nexport function isUrl (url) {\n  return (url.indexOf('http') === 0 || url.indexOf('//') === 0)\n}\n\nexport function promisifyRoute (fn) {\n  // If routes is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routes is a function expecting a callback\n  if (fn.length === 1) {\n    return new Promise((resolve, reject) => {\n      fn(function (err, routeParams) {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      })\n    })\n  }\n  let promise = fn()\n  if (!(promise instanceof Promise)) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"co\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"co\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"pify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pify\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 13\n// module chunks = 0","'use strict'\n\nimport vueLoaderConfig from './vue-loader.config'\nimport { defaults } from 'lodash'\nimport { join } from 'path'\nimport { isUrl, urlJoin } from '../utils'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Shared Config\n|\n| This is the config which is extended by the server and client\n| webpack config files\n|--------------------------------------------------------------------------\n*/\nexport default function ({ isClient, isServer }) {\n  const nodeModulesDir = join(__dirname, '..', 'node_modules')\n  let config = {\n    devtool: (this.dev ? 'cheap-module-eval-source-map' : false),\n    entry: {\n      vendor: ['vue', 'vue-router', 'vue-meta']\n    },\n    output: {\n      publicPath: (isUrl(this.options.build.publicPath) ? this.options.build.publicPath : urlJoin(this.options.router.base, this.options.build.publicPath))\n    },\n    performance: {\n      maxEntrypointSize: 300000,\n      maxAssetSize: 300000,\n      hints: (this.dev ? false : 'warning')\n    },\n    resolve: {\n      extensions: ['.js', '.json', '.vue'],\n      // Disable for now\n      alias: {\n        '~': join(this.srcDir),\n        'static': join(this.srcDir, 'static'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~static': join(this.srcDir, 'static'),\n        'assets': join(this.srcDir, 'assets'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~assets': join(this.srcDir, 'assets'),\n        '~plugins': join(this.srcDir, 'plugins'),\n        '~store': join(this.dir, '.nuxt/store'),\n        '~router': join(this.dir, '.nuxt/router'),\n        '~pages': join(this.srcDir, 'pages'),\n        '~components': join(this.srcDir, 'components')\n      },\n      modules: [\n        nodeModulesDir,\n        join(this.dir, 'node_modules')\n      ]\n    },\n    resolveLoader: {\n      modules: [\n        nodeModulesDir,\n        join(this.dir, 'node_modules')\n      ]\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.vue$/,\n          loader: 'vue-loader',\n          query: vueLoaderConfig.call(this, { isClient, isServer })\n        },\n        {\n          test: /\\.js$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          query: defaults(this.options.build.babel, {\n            presets: ['vue-app'],\n            cacheDirectory: !!this.dev\n          })\n        },\n        { test: /\\.css$/, loader: 'vue-style-loader!css-loader' },\n        { test: /\\.less$/, loader: 'vue-style-loader!css-loader!less-loader' },\n        { test: /\\.sass$/, loader: 'vue-style-loader!css-loader!sass-loader?indentedSyntax' },\n        { test: /\\.scss$/, loader: 'vue-style-loader!css-loader!sass-loader' },\n        { test: /\\.styl(us)?$/, loader: 'vue-style-loader!css-loader!stylus-loader' }\n      ]\n    },\n    plugins: this.options.build.plugins\n  }\n  // Add nuxt build loaders (can be configured in nuxt.config.js)\n  config.module.rules = config.module.rules.concat(this.options.build.loaders)\n  // Return config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/base.config.js","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 16\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport co from 'co'\nimport chokidar from 'chokidar'\nimport fs from 'fs-extra'\nimport hash from 'hash-sum'\nimport pify from 'pify'\nimport webpack from 'webpack'\nimport PostCompilePlugin from 'post-compile-webpack-plugin'\nimport serialize from 'serialize-javascript'\nimport { createBundleRenderer } from 'vue-server-renderer'\nimport { join, resolve, sep } from 'path'\nimport { isUrl } from './utils'\nimport clientWebpackConfig from './webpack/client.config.js'\nimport serverWebpackConfig from './webpack/server.config.js'\nconst debug = require('debug')('nuxt:build')\nconst remove = pify(fs.remove)\nconst readFile = pify(fs.readFile)\nconst utimes = pify(fs.utimes)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\nconst glob = pify(require('glob'))\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(sep)\nconst normalize = string => string.replace(reqSep, sysSep)\nconst wp = function (p) {\n  /* istanbul ignore if */\n  if (/^win/.test(process.platform)) {\n    p = p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\nconst r = function () {\n  let args = Array.from(arguments)\n  if (_.last(args).includes('~')) {\n    return wp(_.last(args))\n  }\n  args = args.map(normalize)\n  return wp(resolve.apply(null, args))\n}\nlet webpackStats = 'none'\n// force green color\ndebug.color = 2\n\nconst defaults = {\n  analyze: false,\n  publicPath: '/_nuxt/',\n  filenames: {\n    manifest: 'manifest.[hash].js',\n    vendor: 'vendor.bundle.[hash].js',\n    app: 'nuxt.bundle.[chunkhash].js'\n  },\n  vendor: [],\n  loaders: [],\n  plugins: [],\n  babel: {},\n  postcss: []\n}\nconst defaultsLoaders = [\n  {\n    test: /\\.(png|jpe?g|gif|svg)$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1KO\n      name: 'img/[name].[hash:7].[ext]'\n    }\n  },\n  {\n    test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1 KO\n      name: 'fonts/[name].[hash:7].[ext]'\n    }\n  }\n]\nconst defaultsPostcss = [\n  require('autoprefixer')({\n    browsers: ['last 3 versions']\n  })\n]\n\nexport function options () {\n  // Defaults build options\n  let extraDefaults = {}\n  if (this.options.build && !Array.isArray(this.options.build.loaders)) extraDefaults.loaders = defaultsLoaders\n  if (this.options.build && !Array.isArray(this.options.build.postcss)) extraDefaults.postcss = defaultsPostcss\n  this.options.build = _.defaultsDeep(this.options.build, defaults, extraDefaults)\n  /* istanbul ignore if */\n  if (this.dev && isUrl(this.options.build.publicPath)) {\n    this.options.build.publicPath = defaults.publicPath\n  }\n  // Production, create server-renderer\n  if (!this.dev) {\n    webpackStats = {\n      chunks: false,\n      children: false,\n      modules: false,\n      colors: true\n    }\n    const serverConfig = getWebpackServerConfig.call(this)\n    const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n    if (fs.existsSync(bundlePath)) {\n      const bundle = fs.readFileSync(bundlePath, 'utf8')\n      createRenderer.call(this, JSON.parse(bundle))\n      addAppTemplate.call(this)\n    }\n  }\n}\n\nexport function * build () {\n  // Check if pages dir exists and warn if not\n  if (!fs.existsSync(join(this.srcDir, 'pages'))) {\n    if (fs.existsSync(join(this.srcDir, '..', 'pages'))) {\n      console.error('> No `pages` directory found. Did you mean to run `nuxt` in the parent (`../`) directory?')  // eslint-disable-line no-console\n    } else {\n      console.error('> Couldn\\'t find a `pages` directory. Please create one under the project root') // eslint-disable-line no-console\n    }\n    process.exit(1)\n  }\n  debug(`App root: ${this.srcDir}`)\n  debug('Generating .nuxt/ files...')\n  // Create .nuxt/, .nuxt/components and .nuxt/dist folders\n  yield remove(r(this.dir, '.nuxt'))\n  yield mkdirp(r(this.dir, '.nuxt/components'))\n  if (!this.dev) {\n    yield mkdirp(r(this.dir, '.nuxt/dist'))\n  }\n  // Generate routes and interpret the template files\n  yield generateRoutesAndFiles.call(this)\n  // Generate .nuxt/dist/ files\n  yield buildFiles.call(this)\n  return this\n}\n\nfunction * buildFiles () {\n  if (this.dev) {\n    debug('Adding webpack middleware...')\n    createWebpackMiddleware.call(this)\n    webpackWatchAndUpdate.call(this)\n    watchPages.call(this)\n  } else {\n    debug('Building files...')\n    yield [\n      webpackRunClient.call(this),\n      webpackRunServer.call(this)\n    ]\n    addAppTemplate.call(this)\n  }\n}\n\nfunction addAppTemplate () {\n  let templatePath = resolve(this.dir, '.nuxt', 'dist', 'index.html')\n  if (fs.existsSync(templatePath)) {\n    this.appTemplate = _.template(fs.readFileSync(templatePath, 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n  }\n}\n\nfunction * generateRoutesAndFiles () {\n  debug('Generating routes...')\n  // Layouts\n  let layouts = {}\n  const layoutsFiles = yield glob('layouts/*.vue', { cwd: this.srcDir })\n  layoutsFiles.forEach((file) => {\n    let name = file.split('/').slice(-1)[0].replace('.vue', '')\n    if (name === 'error') return\n    layouts[name] = r(this.srcDir, file)\n  })\n  const files = yield glob('pages/**/*.vue', { cwd: this.srcDir })\n  // Interpret and move template files to .nuxt/\n  let templatesFiles = [\n    'App.vue',\n    'client.js',\n    'index.js',\n    'middleware.js',\n    'router.js',\n    'server.js',\n    'utils.js',\n    'components/nuxt-error.vue',\n    'components/nuxt-loading.vue',\n    'components/nuxt-child.js',\n    'components/nuxt-link.js',\n    'components/nuxt.vue'\n  ]\n  this.options.store = fs.existsSync(join(this.srcDir, 'store'))\n  let templateVars = {\n    uniqBy: _.uniqBy,\n    isDev: this.dev,\n    router: {\n      mode: this.options.router.mode,\n      base: this.options.router.base,\n      middleware: this.options.router.middleware,\n      linkActiveClass: this.options.router.linkActiveClass,\n      scrollBehavior: this.options.router.scrollBehavior\n    },\n    env: this.options.env,\n    head: this.options.head,\n    middleware: fs.existsSync(join(this.srcDir, 'middleware')),\n    store: this.options.store,\n    css: this.options.css,\n    plugins: this.options.plugins.map((p) => {\n      if (typeof p === 'string') {\n        return { src: r(this.srcDir, p), ssr: true }\n      }\n      return { src: r(this.srcDir, p.src), ssr: !!p.ssr }\n    }),\n    appPath: './App.vue',\n    layouts: layouts,\n    loading: (typeof this.options.loading === 'string' ? r(this.srcDir, this.options.loading) : this.options.loading),\n    transition: this.options.transition,\n    components: {\n      ErrorPage: null\n    }\n  }\n  // Format routes for the lib/app/router.js template\n  templateVars.router.routes = createRoutes(files, this.srcDir)\n  if (typeof this.options.router.extendRoutes === 'function') {\n    // let the user extend the routes\n    this.options.router.extendRoutes(templateVars.router.routes, r)\n  }\n  // Routes for Generate command\n  this.routes = flatRoutes(templateVars.router.routes)\n  debug('Generating files...')\n  if (layoutsFiles.includes('layouts/error.vue')) {\n    templateVars.components.ErrorPage = r(this.srcDir, 'layouts/error.vue')\n  }\n  // If no default layout, create its folder and add the default folder\n  if (!layouts.default) {\n    yield mkdirp(r(this.dir, '.nuxt/layouts'))\n    templatesFiles.push('layouts/default.vue')\n    layouts.default = r(__dirname, 'app', 'layouts', 'default.vue')\n  }\n  // Add store if needed\n  if (this.options.store) {\n    templatesFiles.push('store.js')\n  }\n  let moveTemplates = templatesFiles.map((file) => {\n    return readFile(r(__dirname, 'app', file), 'utf8')\n    .then((fileContent) => {\n      const template = _.template(fileContent, {\n        imports: {\n          serialize,\n          hash\n        }\n      })\n      const content = template(templateVars)\n      const path = r(this.dir, '.nuxt', file)\n      return writeFile(path, content, 'utf8')\n      .then(() => {\n        // Fix webpack loop (https://github.com/webpack/watchpack/issues/25#issuecomment-287789288)\n        const dateFS = Date.now() / 1000 - 30\n        return utimes(path, dateFS, dateFS)\n      })\n    })\n  })\n  yield moveTemplates\n}\n\nfunction createRoutes (files, srcDir) {\n  let routes = []\n  files.forEach((file) => {\n    let keys = file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/{2,}/g, '/').split('/').slice(1)\n    let route = { name: '', path: '', component: r(srcDir, file) }\n    let parent = routes\n    keys.forEach((key, i) => {\n      route.name = route.name ? route.name + '-' + key.replace('_', '') : key.replace('_', '')\n      route.name += (key === '_') ? 'all' : ''\n      let child = _.find(parent, { name: route.name })\n      if (child) {\n        if (!child.children) {\n          child.children = []\n        }\n        parent = child.children\n        route.path = ''\n      } else {\n        if (key === 'index' && (i + 1) === keys.length) {\n          route.path += (i > 0 ? '' : '/')\n        } else {\n          route.path += '/' + (key === '_' ? '*' : key.replace('_', ':'))\n          if (key !== '_' && key.indexOf('_') !== -1) {\n            route.path += '?'\n          }\n        }\n      }\n    })\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      if (!a.path.length || a.path === '/') { return -1 }\n      if (!b.path.length || b.path === '/') { return 1 }\n      var res = 0\n      var _a = a.path.split('/')\n      var _b = b.path.split('/')\n      for (var i = 0; i < _a.length; i++) {\n        if (res !== 0) { break }\n        var y = (_a[i].indexOf('*') > -1) ? 2 : (_a[i].indexOf(':') > -1 ? 1 : 0)\n        var z = (_b[i].indexOf('*') > -1) ? 2 : (_b[i].indexOf(':') > -1 ? 1 : 0)\n        res = y - z\n        if (i === _b.length - 1 && res === 0) {\n          res = 1\n        }\n      }\n      return res === 0 ? -1 : res\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n\nfunction cleanChildrenRoutes (routes, isChild = false) {\n  let start = -1\n  let routesIndex = []\n  routes.forEach((route) => {\n    if (/-index$/.test(route.name) || route.name === 'index') {\n      // Save indexOf 'index' key in name\n      let res = route.name.split('-')\n      let s = res.indexOf('index')\n      start = (start === -1 || s < start) ? s : start\n      routesIndex.push(res)\n    }\n  })\n  routes.forEach((route) => {\n    route.path = (isChild) ? route.path.replace('/', '') : route.path\n    if (route.path.indexOf('?') > -1) {\n      let names = route.name.split('-')\n      let paths = route.path.split('/')\n      if (!isChild) { paths.shift() } // clean first / for parents\n      routesIndex.forEach((r) => {\n        let i = r.indexOf('index') - start //  children names\n        if (i < paths.length) {\n          for (var a = 0; a <= i; a++) {\n            if (a === i) { paths[a] = paths[a].replace('?', '') }\n            if (a < i && names[a] !== r[a]) { break }\n          }\n        }\n      })\n      route.path = (isChild ? '' : '/') + paths.join('/')\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      if (route.children.find((child) => child.path === '')) {\n        delete route.name\n      }\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nfunction flatRoutes (router, path = '', routes = []) {\n  router.forEach((r) => {\n    if (!r.path.includes(':') && !r.path.includes('*')) {\n      if (r.children) {\n        flatRoutes(r.children, path + r.path + '/', routes)\n      } else {\n        routes.push((r.path === '' && path[path.length - 1] === '/' ? path.slice(0, -1) : path) + r.path)\n      }\n    }\n  })\n  return routes\n}\n\nfunction getWebpackClientConfig () {\n  return clientWebpackConfig.call(this)\n}\n\nfunction getWebpackServerConfig () {\n  return serverWebpackConfig.call(this)\n}\n\nfunction createWebpackMiddleware () {\n  const clientConfig = getWebpackClientConfig.call(this)\n  const host = process.env.HOST || process.env.npm_package_config_nuxt_host || '127.0.0.1'\n  const port = process.env.PORT || process.env.npm_package_config_nuxt_port || '3000'\n  // setup on the fly compilation + hot-reload\n  clientConfig.entry.app = _.flatten(['webpack-hot-middleware/client?reload=true', clientConfig.entry.app])\n  clientConfig.plugins.push(\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoEmitOnErrorsPlugin(),\n    new PostCompilePlugin(stats => {\n      if (!stats.hasErrors() && !stats.hasWarnings()) {\n        console.log(`> Open http://${host}:${port}\\n`) // eslint-disable-line no-console\n      }\n    })\n  )\n  const clientCompiler = webpack(clientConfig)\n  // Add the middleware to the instance context\n  this.webpackDevMiddleware = pify(require('webpack-dev-middleware')(clientCompiler, {\n    publicPath: clientConfig.output.publicPath,\n    stats: webpackStats,\n    quiet: true,\n    noInfo: true,\n    watchOptions: this.options.watchers.webpack\n  }))\n  this.webpackHotMiddleware = pify(require('webpack-hot-middleware')(clientCompiler, {\n    log: () => {}\n  }))\n  clientCompiler.plugin('done', () => {\n    const fs = this.webpackDevMiddleware.fileSystem\n    const filePath = join(clientConfig.output.path, 'index.html')\n    if (fs.existsSync(filePath)) {\n      const template = fs.readFileSync(filePath, 'utf-8')\n      this.appTemplate = _.template(template, {\n        interpolate: /{{([\\s\\S]+?)}}/g\n      })\n    }\n  })\n}\n\nfunction webpackWatchAndUpdate () {\n  const MFS = require('memory-fs') // <- dependencies of webpack\n  const mfs = new MFS()\n  const serverConfig = getWebpackServerConfig.call(this)\n  const serverCompiler = webpack(serverConfig)\n  const outputPath = join(serverConfig.output.path, 'server-bundle.json')\n  serverCompiler.outputFileSystem = mfs\n  this.webpackServerWatcher = serverCompiler.watch(this.options.watchers.webpack, (err) => {\n    if (err) throw err\n    createRenderer.call(this, JSON.parse(mfs.readFileSync(outputPath, 'utf-8')))\n  })\n}\n\nfunction webpackRunClient () {\n  return new Promise((resolve, reject) => {\n    const clientConfig = getWebpackClientConfig.call(this)\n    const clientCompiler = webpack(clientConfig)\n    clientCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:client]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      resolve()\n    })\n  })\n}\n\nfunction webpackRunServer () {\n  return new Promise((resolve, reject) => {\n    const serverConfig = getWebpackServerConfig.call(this)\n    const serverCompiler = webpack(serverConfig)\n    serverCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:server]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n      readFile(bundlePath, 'utf8')\n      .then((bundle) => {\n        createRenderer.call(this, JSON.parse(bundle))\n        resolve()\n      })\n    })\n  })\n}\n\nfunction createRenderer (bundle) {\n  // Create bundle renderer to give a fresh context for every request\n  let cacheConfig = false\n  if (this.options.cache) {\n    this.options.cache = (typeof this.options.cache !== 'object' ? {} : this.options.cache)\n    cacheConfig = require('lru-cache')(_.defaults(this.options.cache, {\n      max: 1000,\n      maxAge: 1000 * 60 * 15\n    }))\n  }\n  this.renderer = createBundleRenderer(bundle, {\n    cache: cacheConfig\n  })\n  this.renderToString = pify(this.renderer.renderToString)\n  this.renderToStream = this.renderer.renderToStream\n}\n\nfunction watchPages () {\n  const patterns = [\n    r(this.srcDir, 'pages'),\n    r(this.srcDir, 'layouts'),\n    r(this.srcDir, 'store'),\n    r(this.srcDir, 'middleware'),\n    r(this.srcDir, 'pages/*.vue'),\n    r(this.srcDir, 'pages/**/*.vue'),\n    r(this.srcDir, 'layouts/*.vue'),\n    r(this.srcDir, 'layouts/**/*.vue')\n  ]\n  const options = Object.assign({}, this.options.watchers.chokidar, {\n    ignoreInitial: true\n  })\n  /* istanbul ignore next */\n  const refreshFiles = _.debounce(() => {\n    co(generateRoutesAndFiles.bind(this))\n  }, 200)\n  this.pagesFilesWatcher = chokidar.watch(patterns, options)\n  .on('add', refreshFiles)\n  .on('unlink', refreshFiles)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build.js","'use strict'\n\nimport fs from 'fs-extra'\nimport co from 'co'\nimport pify from 'pify'\nimport _ from 'lodash'\nimport { resolve, join, dirname, sep } from 'path'\nimport { isUrl, promisifyRoute } from './utils'\nimport { minify } from 'html-minifier'\nconst debug = require('debug')('nuxt:generate')\nconst copy = pify(fs.copy)\nconst remove = pify(fs.remove)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\n\nconst defaults = {\n  dir: 'dist',\n  routes: [],\n  minify: {\n    collapseBooleanAttributes: true,\n    collapseWhitespace: true,\n    decodeEntities: true,\n    minifyCSS: true,\n    minifyJS: true,\n    processConditionalComments: true,\n    removeAttributeQuotes: false,\n    removeComments: false,\n    removeEmptyAttributes: true,\n    removeOptionalTags: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: false,\n    removeStyleLinkTypeAttributes: false,\n    removeTagWhitespace: false,\n    sortAttributes: true,\n    sortClassName: true,\n    trimCustomFragments: true,\n    useShortDoctype: true\n  }\n}\n\nexport default function () {\n  const s = Date.now()\n  /*\n  ** Set variables\n  */\n  this.options.generate = _.defaultsDeep(this.options.generate, defaults)\n  var self = this\n  var srcStaticPath = resolve(this.srcDir, 'static')\n  var srcBuiltPath = resolve(this.dir, '.nuxt', 'dist')\n  var distPath = resolve(this.dir, this.options.generate.dir)\n  var distNuxtPath = join(distPath, (isUrl(this.options.build.publicPath) ? '_nuxt' : this.options.build.publicPath))\n  return co(function * () {\n    /*\n    ** Launch build process\n    */\n    yield self.build()\n    /*\n    ** Clean destination folder\n    */\n    try {\n      yield remove(distPath)\n      debug('Destination folder cleaned')\n    } catch (e) {}\n    /*\n    ** Copy static and built files\n    */\n    if (fs.existsSync(srcStaticPath)) {\n      yield copy(srcStaticPath, distPath)\n    }\n    yield copy(srcBuiltPath, distNuxtPath)\n    debug('Static & build files copied')\n  })\n  .then(() => {\n    // Resolve config.generate.routes promises before generating the routes\n    return promisifyRoute(this.options.generate.routes || [])\n    .catch((e) => {\n      console.error('Could not resolve routes') // eslint-disable-line no-console\n      console.error(e) // eslint-disable-line no-console\n      process.exit(1)\n      throw e // eslint-disable-line no-unreachable\n    })\n  })\n  .then((generateRoutes) => {\n    /*\n    ** Generate html files from routes\n    */\n    generateRoutes.forEach((route) => {\n      if (this.routes.indexOf(route) < 0) {\n        this.routes.push(route)\n      }\n    })\n    let routes = this.routes\n    return co(function * () {\n      while (routes.length) {\n        yield routes.splice(0, 500).map((route) => {\n          return co(function * () {\n            var { html } = yield self.renderRoute(route, { _generate: true })\n            html = minify(html, self.options.generate.minify)\n            var path = join(route, sep, 'index.html') // /about -> /about/index.html\n            debug('Generate file: ' + path)\n            path = join(distPath, path)\n            // Make sure the sub folders are created\n            yield mkdirp(dirname(path))\n            yield writeFile(path, html, 'utf8')\n          })\n        })\n      }\n    })\n  })\n  .then((pages) => {\n    // Add .nojekyll file to let Github Pages add the _nuxt/ folder\n    // https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/\n    const nojekyllPath = resolve(distPath, '.nojekyll')\n    return writeFile(nojekyllPath, '')\n  })\n  .then(() => {\n    const duration = Math.round((Date.now() - s) / 100) / 10\n    debug(`HTML Files generated in ${duration}s`)\n    return this\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generate.js","'use strict'\n\nimport ansiHTML from 'ansi-html'\nimport co from 'co'\nimport serialize from 'serialize-javascript'\nimport { getContext, setAnsiColors, encodeHtml } from './utils'\nconst debug = require('debug')('nuxt:render')\n// force blue color\ndebug.color = 4\nsetAnsiColors(ansiHTML)\n\nexport function render (req, res) {\n  if (!this.renderer && !this.dev) {\n    console.error('> No build files found, please run `nuxt build` before launching `nuxt start`') // eslint-disable-line no-console\n    process.exit(1)\n  }\n  /* istanbul ignore if */\n  if (!this.renderer || !this.appTemplate) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.render(req, res))\n      }, 1000)\n    })\n  }\n  const self = this\n  const context = getContext(req, res)\n  return co(function * () {\n    res.statusCode = 200\n    if (self.dev) {\n      // Call webpack middleware only in development\n      yield self.webpackDevMiddleware(req, res)\n      yield self.webpackHotMiddleware(req, res)\n    }\n    if (!self.dev && self.options.performance.gzip) {\n      yield self.gzipMiddleware(req, res)\n    }\n    // If base in req.url, remove it for the middleware and vue-router\n    if (self.options.router.base !== '/' && req.url.indexOf(self.options.router.base) === 0) {\n      // Compatibility with base url for dev server\n      req.url = req.url.replace(self.options.router.base, '/')\n    }\n    // Serve static/ files\n    yield self.serveStatic(req, res)\n    // Serve .nuxt/dist/ files (only for production)\n    if (!self.dev && req.url.indexOf(self.options.build.publicPath) === 0) {\n      const url = req.url\n      req.url = req.url.replace(self.options.build.publicPath, '/')\n      yield self.serveStaticNuxt(req, res)\n      /* istanbul ignore next */\n      req.url = url\n    }\n  })\n  .then(() => {\n    /* istanbul ignore if */\n    if (this.dev && req.url.indexOf(self.options.build.publicPath) === 0 && req.url.includes('.hot-update.json')) {\n      res.statusCode = 404\n      return { html: '' }\n    }\n    return this.renderRoute(req.url, context)\n  })\n  .then(({ html, error, redirected }) => {\n    if (redirected) {\n      return html\n    }\n    if (error) {\n      res.statusCode = context.nuxt.error.statusCode || 500\n    }\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    return html\n  })\n  .catch((err) => {\n    const html = this.errorTemplate({\n      error: err,\n      stack: ansiHTML(encodeHtml(err.stack))\n    })\n    res.statusCode = 500\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    return err\n  })\n}\n\nexport function renderRoute (url, context = {}) {\n  debug(`Rendering url ${url}`)\n  // Add url and isSever to the context\n  context.url = url\n  context.isServer = true\n  // Call rendertoSting from the bundleRenderer and generate the HTML (will update the context as well)\n  const self = this\n  return co(function * () {\n    let APP = yield self.renderToString(context)\n    if (!context.nuxt.serverRendered) {\n      APP = '<div id=\"__nuxt\"></div>'\n    }\n    const m = context.meta.inject()\n    let HEAD = m.meta.text() + m.title.text() + m.link.text() + m.style.text() + m.script.text() + m.noscript.text()\n    if (self.options.router.base !== '/') {\n      HEAD += `<base href=\"${self.options.router.base}\">`\n    }\n    HEAD += context.styles\n    APP += `<script type=\"text/javascript\">window.__NUXT__=${serialize(context.nuxt, { isJSON: true })}</script>`\n    const html = self.appTemplate({\n      HTML_ATTRS: 'data-n-head-ssr ' + m.htmlAttrs.text(),\n      BODY_ATTRS: m.bodyAttrs.text(),\n      HEAD,\n      APP\n    })\n    return {\n      html,\n      error: context.nuxt.error,\n      redirected: context.redirected\n    }\n  })\n}\n\n// Function used to do dom checking via jsdom\nlet jsdom = null\nexport function renderAndGetWindow (url, opts = {}) {\n  /* istanbul ignore if */\n  if (!jsdom) {\n    try {\n      jsdom = require('jsdom')\n    } catch (e) {\n      console.error('Fail when calling nuxt.renderAndGetWindow(url)') // eslint-disable-line no-console\n      console.error('jsdom module is not installed') // eslint-disable-line no-console\n      console.error('Please install jsdom with: npm install --save-dev jsdom') // eslint-disable-line no-console\n      process.exit(1)\n    }\n  }\n  let virtualConsole = jsdom.createVirtualConsole().sendTo(console)\n  if (opts.virtualConsole === false) {\n    virtualConsole = undefined\n  }\n  url = url || 'http://localhost:3000'\n  return new Promise((resolve, reject) => {\n    jsdom.env({\n      url: url,\n      features: {\n        FetchExternalResources: ['script', 'link'],\n        ProcessExternalResources: ['script']\n      },\n      virtualConsole,\n      done (err, window) {\n        if (err) return reject(err)\n        // Mock window.scrollTo\n        window.scrollTo = function () {}\n        // If Nuxt could not be loaded (error from the server-side)\n        if (!window.__NUXT__) {\n          let error = new Error('Could not load the nuxt app')\n          error.body = window.document.getElementsByTagName('body')[0].innerHTML\n          return reject(error)\n        }\n        // Used by nuxt.js to say when the components are loaded and the app ready\n        window.onNuxtReady(() => {\n          resolve(window)\n        })\n      }\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/render.js","'use strict'\n\nconst http = require('http')\n\nclass Server {\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    this.server = http.createServer(this.render.bind(this))\n    return this\n  }\n\n  render (req, res) {\n    this.nuxt.render(req, res)\n    return this\n  }\n\n  listen (port, host) {\n    host = host || '127.0.0.1'\n    port = port || 3000\n    this.server.listen(port, host, () => {\n      console.log('Ready on http://%s:%s', host, port) // eslint-disable-line no-console\n    })\n    return this\n  }\n\n  close (cb) {\n    return this.server.close(cb)\n  }\n}\n\nexport default Server\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server.js","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 22\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport co from 'co'\nimport compression from 'compression'\nimport fs from 'fs-extra'\nimport pify from 'pify'\nimport Server from './server'\nimport * as build from './build'\nimport * as render from './render'\nimport generate from './generate'\nimport serveStatic from 'serve-static'\nimport { resolve, join } from 'path'\nimport * as utils from './utils'\n\nclass Nuxt {\n  constructor (options = {}) {\n    var defaults = {\n      dev: true,\n      env: {},\n      head: {},\n      plugins: [],\n      css: [],\n      cache: false,\n      loading: {\n        color: 'black',\n        failedColor: 'red',\n        height: '2px',\n        duration: 5000\n      },\n      transition: {\n        name: 'page',\n        mode: 'out-in'\n      },\n      router: {\n        mode: 'history',\n        base: '/',\n        middleware: [],\n        linkActiveClass: 'nuxt-link-active',\n        extendRoutes: null,\n        scrollBehavior: null\n      },\n      performance: {\n        gzip: {\n          threshold: 0\n        },\n        prefetch: true\n      },\n      watchers: {\n        webpack: {},\n        chokidar: {}\n      },\n      build: {}\n    }\n    // Sanitization\n    if (options.loading === true) delete options.loading\n    if (options.router && typeof options.router.middleware === 'string') options.router.middleware = [ options.router.middleware ]\n    if (typeof options.transition === 'string') options.transition = { name: options.transition }\n    this.options = _.defaultsDeep(options, defaults)\n    // Env variables\n    this.dev = this.options.dev\n    this.dir = (typeof options.rootDir === 'string' && options.rootDir ? options.rootDir : process.cwd())\n    this.srcDir = (typeof options.srcDir === 'string' && options.srcDir ? resolve(this.dir, options.srcDir) : this.dir)\n    // If store defined, update store options to true\n    if (fs.existsSync(join(this.srcDir, 'store'))) {\n      this.options.store = true\n    }\n    // If app.html is defined, set the template path to the user template\n    this.options.appTemplatePath = resolve(__dirname, 'views/app.template.html')\n    if (fs.existsSync(join(this.srcDir, 'app.html'))) {\n      this.options.appTemplatePath = join(this.srcDir, 'app.html')\n    }\n    // renderer used by Vue.js (via createBundleRenderer)\n    this.renderer = null\n    // For serving static/ files to /\n    this.serveStatic = pify(serveStatic(resolve(this.srcDir, 'static')))\n    // For serving .nuxt/dist/ files (only when build.publicPath is not an URL)\n    this.serveStaticNuxt = pify(serveStatic(resolve(this.dir, '.nuxt', 'dist'), {\n      maxAge: (this.dev ? 0 : '1y') // 1 year in production\n    }))\n    // gzip for production\n    if (!this.dev && this.options.performance.gzip) {\n      this.gzipMiddleware = pify(compression(this.options.performance.gzip))\n    }\n    // Add this.Server Class\n    this.Server = Server\n    // Add this.build\n    build.options.call(this) // Add build options\n    this.build = () => co(build.build.bind(this))\n    // Error template\n    this.errorTemplate = _.template(fs.readFileSync(resolve(__dirname, 'views', 'error.html'), 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n    // Add this.render and this.renderRoute\n    this.render = render.render.bind(this)\n    this.renderRoute = render.renderRoute.bind(this)\n    this.renderAndGetWindow = render.renderAndGetWindow.bind(this)\n    // Add this.generate\n    this.generate = generate.bind(this)\n    // Add this.utils (tests purpose)\n    this.utils = utils\n    return this\n  }\n\n  close (callback) {\n    let promises = []\n    /* istanbul ignore if */\n    if (this.webpackDevMiddleware) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackDevMiddleware.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.webpackServerWatcher) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackServerWatcher.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.pagesFilesWatcher) {\n      this.pagesFilesWatcher.close()\n    }\n    return co(function * () {\n      yield promises\n    })\n    .then(function () {\n      if (typeof callback === 'function') callback()\n    })\n  }\n}\n\nexport default Nuxt\n\n\n\n// WEBPACK FOOTER //\n// ./lib/nuxt.js","'use strict'\n\nimport { each } from 'lodash'\nimport webpack from 'webpack'\nimport HTMLPlugin from 'html-webpack-plugin'\nimport FriendlyErrorsWebpackPlugin from 'friendly-errors-webpack-plugin'\nimport ScriptExtHtmlWebpackPlugin from 'script-ext-html-webpack-plugin'\nimport PreloadWebpackPlugin from 'preload-webpack-plugin'\nimport ProgressBarPlugin from 'progress-bar-webpack-plugin'\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer'\nimport base from './base.config.js'\nimport { resolve } from 'path'\n/*\n|--------------------------------------------------------------------------\n| Webpack Client Config\n|\n| Generate public/dist/client-vendor-bundle.js\n| Generate public/dist/client-bundle.js\n|\n| In production, will generate public/dist/style.css\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isClient: true })\n\n  // Entry\n  config.entry.app = resolve(this.dir, '.nuxt', 'client.js')\n\n  // Add vendors\n  if (this.options.store) {\n    config.entry.vendor.push('vuex')\n  }\n  config.entry.vendor = config.entry.vendor.concat(this.options.build.vendor)\n\n  // Output\n  config.output.path = resolve(this.dir, '.nuxt', 'dist')\n  config.output.filename = this.options.build.filenames.app\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n  // Webpack plugins\n  config.plugins = (config.plugins || []).concat([\n    // Strip comments in Vue code\n    new webpack.DefinePlugin(Object.assign(env, {\n      'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n      'process.BROWSER_BUILD': true,\n      'process.SERVER_BUILD': false,\n      'process.browser': true,\n      'process.server': true\n    })),\n    // Extract vendor chunks for better caching\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      filename: this.options.build.filenames.vendor\n    }),\n    // Extract manifest\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'manifest',\n      filename: this.options.build.filenames.manifest\n    }),\n    // Generate output HTML\n    new HTMLPlugin({\n      template: this.options.appTemplatePath\n    }),\n    // Add defer to scripts\n    new ScriptExtHtmlWebpackPlugin({\n      defaultAttribute: 'defer'\n    })\n  ])\n\n  if (!this.dev && this.options.performance.prefetch === true) {\n    // Add prefetch code-splitted routes\n    config.plugins.push(\n      new PreloadWebpackPlugin({\n        rel: 'prefetch'\n      })\n    )\n  }\n  // client bundle progress bar\n  config.plugins.push(\n    new ProgressBarPlugin()\n  )\n  // Add friendly error plugin\n  if (this.dev) {\n    config.plugins.push(new FriendlyErrorsWebpackPlugin())\n  }\n  // Production client build\n  if (!this.dev) {\n    config.plugins.push(\n      // This is needed in webpack 2 for minifying CSS\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      }),\n      // Minify JS\n      new webpack.optimize.UglifyJsPlugin({\n        sourceMap: true,\n        compress: {\n          warnings: false\n        }\n      })\n    )\n  }\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isClient: true\n    })\n  }\n  // Webpack Bundle Analyzer\n  if (!this.dev && this.options.build.analyze) {\n    let options = {}\n    if (typeof this.options.build.analyze === 'object') {\n      options = this.options.build.analyze\n    }\n    config.plugins.push(\n      new BundleAnalyzerPlugin(options)\n    )\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/client.config.js","'use strict'\n\nimport webpack from 'webpack'\nimport VueSSRPlugin from 'vue-ssr-webpack-plugin'\nimport base from './base.config.js'\nimport { each, uniq } from 'lodash'\nimport { existsSync, readFileSync } from 'fs'\nimport { resolve } from 'path'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Server Config\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isServer: true })\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n\n  config = Object.assign(config, {\n    target: 'node',\n    devtool: (this.dev ? 'source-map' : false),\n    entry: resolve(this.dir, '.nuxt', 'server.js'),\n    output: Object.assign({}, config.output, {\n      path: resolve(this.dir, '.nuxt', 'dist'),\n      filename: 'server-bundle.js',\n      libraryTarget: 'commonjs2'\n    }),\n    plugins: (config.plugins || []).concat([\n      new VueSSRPlugin({\n        filename: 'server-bundle.json'\n      }),\n      new webpack.DefinePlugin(Object.assign(env, {\n        'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n        'process.BROWSER_BUILD': false, // deprecated\n        'process.SERVER_BUILD': true,  // deprecated\n        'process.browser': false,\n        'process.server': true\n      }))\n    ])\n  })\n  // This is needed in webpack 2 for minifying CSS\n  if (!this.dev) {\n    config.plugins.push(\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      })\n    )\n  }\n  // Externals\n  const nuxtPackageJson = require('../../package.json')\n  const projectPackageJsonPath = resolve(this.dir, 'package.json')\n  config.externals = Object.keys(nuxtPackageJson.dependencies || {})\n  if (existsSync(projectPackageJsonPath)) {\n    try {\n      const projectPackageJson = JSON.parse(readFileSync(projectPackageJsonPath))\n      config.externals = config.externals.concat(Object.keys(projectPackageJson.dependencies || {}))\n    } catch (e) {}\n  }\n  config.externals = config.externals.concat(this.options.build.vendor)\n  config.externals = uniq(config.externals)\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isServer: true\n    })\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/server.config.js","'use strict'\n\nimport { defaults } from 'lodash'\n\nexport default function ({ isClient }) {\n  let babelOptions = JSON.stringify(defaults(this.options.build.babel, {\n    presets: ['vue-app'],\n    cacheDirectory: !!this.dev\n  }))\n  let config = {\n    postcss: this.options.build.postcss,\n    loaders: {\n      'js': 'babel-loader?' + babelOptions,\n      'css': 'vue-style-loader!css-loader',\n      'less': 'vue-style-loader!css-loader!less-loader',\n      'sass': 'vue-style-loader!css-loader!sass-loader?indentedSyntax',\n      'scss': 'vue-style-loader!css-loader!sass-loader',\n      'stylus': 'vue-style-loader!css-loader!stylus-loader',\n      'styl': 'vue-style-loader!css-loader!stylus-loader'\n    },\n    preserveWhitespace: false\n  }\n  // Return the config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/vue-loader.config.js","module.exports = {\n\t\"name\": \"nuxt\",\n\t\"version\": \"0.10.5\",\n\t\"description\": \"A minimalistic framework for server-rendered Vue.js applications (inspired by Next.js)\",\n\t\"contributors\": [\n\t\t{\n\t\t\t\"name\": \"Sebastien Chopin\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"Alexandre Chopin\"\n\t\t}\n\t],\n\t\"main\": \"./index.js\",\n\t\"license\": \"MIT\",\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"git+https://github.com/nuxt/nuxt.js\"\n\t},\n\t\"files\": [\n\t\t\"bin\",\n\t\t\"dist\",\n\t\t\"index.js\"\n\t],\n\t\"keywords\": [\n\t\t\"nuxt\",\n\t\t\"nuxt.js\",\n\t\t\"nuxtjs\",\n\t\t\"vue\",\n\t\t\"vue.js\",\n\t\t\"vuejs\",\n\t\t\"vue universal\",\n\t\t\"vue ssr\",\n\t\t\"vue isomorphic\",\n\t\t\"vue versatile\"\n\t],\n\t\"homepage\": \"https://github.com/nuxt/nuxt.js#readme\",\n\t\"bin\": {\n\t\t\"nuxt\": \"./bin/nuxt\"\n\t},\n\t\"scripts\": {\n\t\t\"test\": \"nyc ava --verbose --serial test/\",\n\t\t\"coverage\": \"nyc report --reporter=text-lcov > coverage.lcov && codecov\",\n\t\t\"lint\": \"eslint --ext .js,.vue bin lib pages test/*.js --ignore-pattern lib/app\",\n\t\t\"build\": \"webpack\",\n\t\t\"watch\": \"webpack --watch\",\n\t\t\"precommit\": \"npm run lint\",\n\t\t\"prepublish\": \"npm run build\"\n\t},\n\t\"engines\": {\n\t\t\"node\": \">=4.3.0 <5.0.0 || >=5.10\",\n\t\t\"npm\": \">=3.0.0\"\n\t},\n\t\"dependencies\": {\n\t\t\"ansi-html\": \"^0.0.7\",\n\t\t\"autoprefixer\": \"^6.7.7\",\n\t\t\"babel-core\": \"^6.24.0\",\n\t\t\"babel-loader\": \"^6.4.1\",\n\t\t\"babel-preset-vue-app\": \"^0.5.1\",\n\t\t\"chokidar\": \"^1.6.1\",\n\t\t\"co\": \"^4.6.0\",\n\t\t\"compression\": \"^1.6.2\",\n\t\t\"css-loader\": \"^0.27.3\",\n\t\t\"debug\": \"^2.6.3\",\n\t\t\"file-loader\": \"^0.10.1\",\n\t\t\"friendly-errors-webpack-plugin\": \"^1.6.1\",\n\t\t\"fs-extra\": \"^2.1.2\",\n\t\t\"glob\": \"^7.1.1\",\n\t\t\"hash-sum\": \"^1.0.2\",\n\t\t\"html-minifier\": \"^3.4.2\",\n\t\t\"html-webpack-plugin\": \"^2.28.0\",\n\t\t\"lodash\": \"^4.17.4\",\n\t\t\"lru-cache\": \"^4.0.2\",\n\t\t\"memory-fs\": \"^0.4.1\",\n\t\t\"pify\": \"^2.3.0\",\n\t\t\"post-compile-webpack-plugin\": \"^0.1.1\",\n\t\t\"preload-webpack-plugin\": \"^1.2.1\",\n\t\t\"progress-bar-webpack-plugin\": \"^1.9.3\",\n\t\t\"script-ext-html-webpack-plugin\": \"^1.7.1\",\n\t\t\"serialize-javascript\": \"^1.3.0\",\n\t\t\"serve-static\": \"^1.12.1\",\n\t\t\"url-loader\": \"^0.5.8\",\n\t\t\"vue\": \"^2.2.5\",\n\t\t\"vue-loader\": \"^11.3.3\",\n\t\t\"vue-meta\": \"^0.5.5\",\n\t\t\"vue-router\": \"^2.3.0\",\n\t\t\"vue-server-renderer\": \"^2.2.5\",\n\t\t\"vue-ssr-html-stream\": \"^2.2.0\",\n\t\t\"vue-ssr-webpack-plugin\": \"^1.0.2\",\n\t\t\"vue-template-compiler\": \"^2.2.5\",\n\t\t\"vuex\": \"^2.2.1\",\n\t\t\"webpack\": \"^2.3.2\",\n\t\t\"webpack-bundle-analyzer\": \"^2.3.1\",\n\t\t\"webpack-dev-middleware\": \"^1.10.1\",\n\t\t\"webpack-hot-middleware\": \"^2.17.1\"\n\t},\n\t\"devDependencies\": {\n\t\t\"ava\": \"^0.18.2\",\n\t\t\"babel-eslint\": \"^7.2.1\",\n\t\t\"babel-plugin-array-includes\": \"^2.0.3\",\n\t\t\"babel-plugin-transform-async-to-generator\": \"^6.22.0\",\n\t\t\"babel-plugin-transform-runtime\": \"^6.23.0\",\n\t\t\"babel-preset-es2015\": \"^6.24.0\",\n\t\t\"babel-preset-stage-2\": \"^6.22.0\",\n\t\t\"codecov\": \"^2.1.0\",\n\t\t\"copy-webpack-plugin\": \"^4.0.1\",\n\t\t\"eslint\": \"^3.18.0\",\n\t\t\"eslint-config-standard\": \"^8.0.0-beta.2\",\n\t\t\"eslint-plugin-html\": \"^2.0.1\",\n\t\t\"eslint-plugin-import\": \"^2.2.0\",\n\t\t\"eslint-plugin-node\": \"^4.2.1\",\n\t\t\"eslint-plugin-promise\": \"^3.5.0\",\n\t\t\"eslint-plugin-standard\": \"^2.1.1\",\n\t\t\"finalhandler\": \"^1.0.1\",\n\t\t\"jsdom\": \"^9.12.0\",\n\t\t\"json-loader\": \"^0.5.4\",\n\t\t\"nyc\": \"^10.2.0-candidate.0\",\n\t\t\"request\": \"^2.81.0\",\n\t\t\"request-promise-native\": \"^1.0.3\",\n\t\t\"webpack-node-externals\": \"^1.5.4\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 27\n// module chunks = 0","module.exports = require(\"ansi-html\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ansi-html\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/array/from\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"chokidar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chokidar\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"friendly-errors-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"friendly-errors-webpack-plugin\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"hash-sum\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hash-sum\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"html-minifier\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-minifier\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"jsdom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsdom\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"lru-cache\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lru-cache\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"memory-fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"memory-fs\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"post-compile-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"post-compile-webpack-plugin\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"preload-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"preload-webpack-plugin\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"progress-bar-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"progress-bar-webpack-plugin\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"script-ext-html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"script-ext-html-webpack-plugin\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"vue-server-renderer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer\"\n// module id = 47\n// module chunks = 0","module.exports = require(\"vue-ssr-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-ssr-webpack-plugin\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"webpack-bundle-analyzer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-bundle-analyzer\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 51\n// module chunks = 0"],"sourceRoot":""}